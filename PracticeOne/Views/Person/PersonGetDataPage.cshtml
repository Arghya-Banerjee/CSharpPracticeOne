@{
    ViewData["Title"] = "Person Get Data";
}

@model PracticeOne.Models.PersonModel

<form asp-asp-controller="Person" asp-action="PersonGetData">
    <div>
        <label for="GivenName">Given Name:</label>
        <input type="text" id="givenName" name="givenName" required>
    </div>
    <div>
        <label for="FamilyName">Family Name:</label>
        <input type="text" id="familyName" name="familyName" required>
    </div>
    <div>
        <label for="PhoneNumber">Phone Number:</label>
        <input type="text" id="phoneNumber" name="phoneNumber" required>
    </div>
    <div>
        <label for="DateOfBirth">Date of Birth:</label>
        <input type="date" id="dateOfBirth" name="dateOfBirth" required onchange="calculateAge()">
    </div>
    <div>
        <label for="Age">Age:</label>
        <input type="text" id="age" name="age" readonly>
    </div>
    <button type="submit">Submit</button>
</form>

<script>
    function calculateAge() {
        var dob = document.getElementById("dateOfBirth").value;
        if (dob) {
            var dobDate = new Date(dob);
            var now = new Date();
            var ageDiff = now - dobDate;
            var ageDate = new Date(ageDiff);
            var age = Math.abs(ageDate.getUTCFullYear() - 1970);
            document.getElementById("age").value = age;
        }
    }
</script>